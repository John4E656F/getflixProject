{"ast":null,"code":"// Class version of the factory function below\nclass Carousel {\n  constructor(container) {\n    this.container = container;\n    this.track = container.querySelector(\".track\");\n    this.prev = container.querySelector(\".prev\");\n    this.next = container.querySelector(\".next\");\n    this.width = container.offsetWidth;\n    this.index = 0;\n  }\n\n  getContainer() {\n    return this.container;\n  }\n\n  getPrev() {\n    return this.prev;\n  }\n\n  getNext() {\n    return this.next;\n  }\n\n  moveBackward() {\n    this.index--;\n    this.next.classList.remove('hide');\n\n    if (this.index === 0) {\n      this.prev.classList.remove('show');\n    }\n\n    this.track.style.transform = `translateX(-${this.index * this.width}px)`;\n  }\n\n  moveForward() {\n    this.index++;\n    this.prev.classList.add('show');\n    this.track.style.transform = `translateX(-${this.index * this.width}px)`;\n\n    if (this.track.offsetWidth - this.index * this.width < this.width) {\n      this.next.classList.add('hide');\n    }\n  }\n\n  resizeCarousel() {\n    this.width = this.getContainer().offsetWidth;\n  }\n\n} // Create an array ([...]) from a Node List (querySelectorAll), containing all carousels on the page\n\n\nconst carouselList = [...document.querySelectorAll('.carousel-container')]; // Map over the above array and create a new Carousel object from each carousel; put these in carousels array\n\nconst carousels = carouselList.map(container => new Carousel(container));\n\nfor (let carousel of carousels) {\n  // When we click the previous button, run the carousel's moveBackward function\n  carousel.getPrev().addEventListener(\"click\", function () {\n    carousel.moveBackward();\n  }); // When we click the next button, run the carousel's moveForward function\n\n  carousel.getNext().addEventListener(\"click\", function () {\n    carousel.moveForward();\n  });\n}\n\nwindow.addEventListener('resize', () => {\n  for (let carousel of carousels) {\n    carousel.resizeCarousel();\n  }\n});","map":{"version":3,"names":["Carousel","constructor","container","track","querySelector","prev","next","width","offsetWidth","index","getContainer","getPrev","getNext","moveBackward","classList","remove","style","transform","moveForward","add","resizeCarousel","carouselList","document","querySelectorAll","carousels","map","carousel","addEventListener","window"],"sources":["D:/Users/Neo/Documents/Private/getflixProject/styled/src/Component/Anime/CarouselAnime/Carousel.js"],"sourcesContent":["// Class version of the factory function below\r\nclass Carousel {\r\n    constructor(container) {\r\n      this.container = container;\r\n      this.track = container.querySelector(\".track\");\r\n      this.prev = container.querySelector(\".prev\");\r\n      this.next = container.querySelector(\".next\");\r\n      this.width = container.offsetWidth;\r\n      this.index = 0;\r\n    }\r\n    \r\n    getContainer() {\r\n      return this.container;\r\n    }\r\n    \r\n    getPrev() {\r\n      return this.prev;\r\n    }\r\n    \r\n    getNext() {\r\n      return this.next;\r\n    }\r\n    \r\n    moveBackward() {\r\n      this.index--;\r\n      this.next.classList.remove('hide');\r\n      if (this.index === 0) {\r\n        this.prev.classList.remove('show');\r\n      }\r\n      this.track.style.transform = `translateX(-${this.index * this.width}px)`;\r\n    }\r\n    \r\n    moveForward() {\r\n      this.index++;\r\n      this.prev.classList.add('show');\r\n  \r\n      this.track.style.transform = `translateX(-${this.index * this.width}px)`;\r\n      if (this.track.offsetWidth - (this.index * this.width) < this.width) {\r\n        this.next.classList.add('hide');\r\n      }\r\n    }\r\n    \r\n    resizeCarousel() {\r\n      this.width = this.getContainer().offsetWidth;\r\n    }\r\n  }\r\n  \r\n  \r\n  // Create an array ([...]) from a Node List (querySelectorAll), containing all carousels on the page\r\n  const carouselList = [...document.querySelectorAll('.carousel-container')];\r\n  // Map over the above array and create a new Carousel object from each carousel; put these in carousels array\r\n  const carousels = carouselList.map(container => new Carousel(container));\r\n  \r\n  for (let carousel of carousels) {\r\n    // When we click the previous button, run the carousel's moveBackward function\r\n    carousel.getPrev().addEventListener(\"click\", function() { carousel.moveBackward()});\r\n    // When we click the next button, run the carousel's moveForward function\r\n    carousel.getNext().addEventListener(\"click\", function() { carousel.moveForward()});\r\n  }\r\n  \r\n  window.addEventListener('resize', () => {\r\n    for (let carousel of carousels) {\r\n      carousel.resizeCarousel();\r\n    }\r\n  })"],"mappings":"AAAA;AACA,MAAMA,QAAN,CAAe;EACXC,WAAW,CAACC,SAAD,EAAY;IACrB,KAAKA,SAAL,GAAiBA,SAAjB;IACA,KAAKC,KAAL,GAAaD,SAAS,CAACE,aAAV,CAAwB,QAAxB,CAAb;IACA,KAAKC,IAAL,GAAYH,SAAS,CAACE,aAAV,CAAwB,OAAxB,CAAZ;IACA,KAAKE,IAAL,GAAYJ,SAAS,CAACE,aAAV,CAAwB,OAAxB,CAAZ;IACA,KAAKG,KAAL,GAAaL,SAAS,CAACM,WAAvB;IACA,KAAKC,KAAL,GAAa,CAAb;EACD;;EAEDC,YAAY,GAAG;IACb,OAAO,KAAKR,SAAZ;EACD;;EAEDS,OAAO,GAAG;IACR,OAAO,KAAKN,IAAZ;EACD;;EAEDO,OAAO,GAAG;IACR,OAAO,KAAKN,IAAZ;EACD;;EAEDO,YAAY,GAAG;IACb,KAAKJ,KAAL;IACA,KAAKH,IAAL,CAAUQ,SAAV,CAAoBC,MAApB,CAA2B,MAA3B;;IACA,IAAI,KAAKN,KAAL,KAAe,CAAnB,EAAsB;MACpB,KAAKJ,IAAL,CAAUS,SAAV,CAAoBC,MAApB,CAA2B,MAA3B;IACD;;IACD,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,SAAjB,GAA8B,eAAc,KAAKR,KAAL,GAAa,KAAKF,KAAM,KAApE;EACD;;EAEDW,WAAW,GAAG;IACZ,KAAKT,KAAL;IACA,KAAKJ,IAAL,CAAUS,SAAV,CAAoBK,GAApB,CAAwB,MAAxB;IAEA,KAAKhB,KAAL,CAAWa,KAAX,CAAiBC,SAAjB,GAA8B,eAAc,KAAKR,KAAL,GAAa,KAAKF,KAAM,KAApE;;IACA,IAAI,KAAKJ,KAAL,CAAWK,WAAX,GAA0B,KAAKC,KAAL,GAAa,KAAKF,KAA5C,GAAqD,KAAKA,KAA9D,EAAqE;MACnE,KAAKD,IAAL,CAAUQ,SAAV,CAAoBK,GAApB,CAAwB,MAAxB;IACD;EACF;;EAEDC,cAAc,GAAG;IACf,KAAKb,KAAL,GAAa,KAAKG,YAAL,GAAoBF,WAAjC;EACD;;AA3CU,C,CA+Cb;;;AACA,MAAMa,YAAY,GAAG,CAAC,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,qBAA1B,CAAJ,CAArB,C,CACA;;AACA,MAAMC,SAAS,GAAGH,YAAY,CAACI,GAAb,CAAiBvB,SAAS,IAAI,IAAIF,QAAJ,CAAaE,SAAb,CAA9B,CAAlB;;AAEA,KAAK,IAAIwB,QAAT,IAAqBF,SAArB,EAAgC;EAC9B;EACAE,QAAQ,CAACf,OAAT,GAAmBgB,gBAAnB,CAAoC,OAApC,EAA6C,YAAW;IAAED,QAAQ,CAACb,YAAT;EAAwB,CAAlF,EAF8B,CAG9B;;EACAa,QAAQ,CAACd,OAAT,GAAmBe,gBAAnB,CAAoC,OAApC,EAA6C,YAAW;IAAED,QAAQ,CAACR,WAAT;EAAuB,CAAjF;AACD;;AAEDU,MAAM,CAACD,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;EACtC,KAAK,IAAID,QAAT,IAAqBF,SAArB,EAAgC;IAC9BE,QAAQ,CAACN,cAAT;EACD;AACF,CAJD"},"metadata":{},"sourceType":"module"}